---
title: 'Extension sample: logging'
metaTitle: 'Extension sample: logging '
metaDescription: 'How to use Prisma Client extensions to log the time taken to perform any query.'
---

<TopBlock>

Before you create Prisma Client extensions, you must enable the `clientExtensions` feature flag in the `generator` block of your `schema.prisma` file, as follows:

```prisma
generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["clientExtensions"]
}
```

<Admonition type="info">

The Preview feature is available from v4.7.0 and higher.

</Admonition>

The following extension logs the time taken for a Prisma query to run:

```ts
const prisma = new PrismaClient()

const prisma = new PrismaClient().$extends({
  query: {
    $allModels: {
      async $allOperations({ model, operation, args, query }) {
        const time = Date.now()

        const data = await query(args)

        console.log(`${model}.${operation} took ${Date.now() - time}ms`)

        return data
      },
    },
  },
})

// Example queries
const create = await prisma.post.create({
  data: {
    title: 'Welcome to Prisma Day 2022',
  },
})

const createAgain = await prisma.post.create({
  data: {
    title: 'All about database collation',
  },
})
```

Example output:

```no-lines
Query Post.create took 92ms
Query Post.create took 15ms
```

The example is based on the following sample schema:

```prisma
generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["clientExtensions"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Post {
  id        Int     @id @default(autoincrement())
  title     String
  content   String?
  published Boolean @default(false)

  user     User? @relation(fields: [authorId], references: [id])
  authorId Int?
}

model User {
  id    Int     @id @default(autoincrement())
  name  String?
  email String  @unique

  posts Post[]
}
```

</TopBlock>

## Going further

- Learn more about [Prisma Client extensions](/concepts/components/prisma-client/client-extensions).
- Learn more sample use cases you could use Prisma Client extensions for in [this blog post](https://www.prisma.io/blog/client-extensions-preview-8t3w27xkrxxn).
