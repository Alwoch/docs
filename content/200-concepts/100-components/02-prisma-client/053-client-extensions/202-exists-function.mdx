---
title: 'Extension sample: exists function'
metaTitle: 'Extension sample: `exists` function '
metaDescription: 'How to use Prisma Client extensions to create an `exists` function.'
---

<TopBlock>

Before you create Prisma Client extensions, you must enable the `clientExtensions` feature flag in the `generator` block of your `schema.prisma` file, as follows:

```prisma
generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["clientExtensions"]
}
```

<Admonition type="info">

The Preview feature is available from v4.7.0 and higher.

</Admonition>

The following extension adds an `exists` function to all your models:

```ts
import { PrismaClient, Prisma } from '@prisma/client'

const prisma = new PrismaClient().$extends({
  model: {
    $allModels: {
      async exists<T>(
        this: T,
        where: Prisma.Args<T, 'findFirst'>['where']
      ): Promise<boolean> {
        const context = Prisma.getExtensionContext(this)
        const result = await (context as any).findFirst({ where })
        return result !== null
      },
    },
  },
})

// Example queries
await prisma.user.exists({
  name: 'Alice'
})

await prisma.post.exists({
  OR: [
    { title: { contains: 'Prisma' } },
    { content: { contains: 'Prisma' } }
  ]
})
```

The example is based on the following sample schema:

```prisma
generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["clientExtensions"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Post {
  id        Int     @id @default(autoincrement())
  title     String
  content   String?
  published Boolean @default(false)

  user     User? @relation(fields: [authorId], references: [id])
  authorId Int?
}

model User {
  id    Int     @id @default(autoincrement())
  name  String?
  email String  @unique

  posts Post[]
}
```

</TopBlock>

## Going further

- Learn more about [Prisma Client extensions](/concepts/components/prisma-client/client-extensions).
- Learn more sample use cases you could use Prisma Client extensions for in [this blog post](https://www.prisma.io/blog/client-extensions-preview-8t3w27xkrxxn).
- You can find more Prisma Client extensions sample cases in this [GitHub repository](https://github.com/prisma/prisma-client-extensions)
